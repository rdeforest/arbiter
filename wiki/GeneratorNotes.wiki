#summary Interface for Generators

= hook files =

== add-to-world ==

        generators/$gen/add-to-world $name

Called when a generator is added to a world to give the generator an
opportunity to make note of its situation and raise objections if it doesn't
think it will know how to behave in a world.  Output is saved as part of state
0.

== query ==

        generators/$gen/query $name

The output of this command is treated as YAML to be written to files under
state/current/$name/.

Besides taking its own name as input, it may use the contents of the state
directory as input.  Constraints may "send messages to" generator instances by
writing to the instance's current state before the state is generated.  For
example, in a game where agents are pitted against each other in some sort of
rotation, the constraint responsible for determining the pairing could tell
each agent who its current partner is by emitting

        $agent: { opponent: $other_agent }   

Agents can query this by reading state/current/$self/opponent.


